"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3685],{63685:function(e,r,t){t.r(r),t.d(r,{default:function(){return _}});var n=t(24246),o=t(75614),a=t(58788),l=t(91131),i=t(29370),s=t(4602),c=t(44144),u=t(74641),m=t(87763),d=t(62787),f=t(34806),b=t(39258),x=t(78248),h=t(29235),v=t(84397),p=t(87536),g=t(68301);function y(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function j(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){y(e,r,t[r])}))}return e}var O=g.Ry().shape({email:g.Z_().email("error-email-format").required("error-email-required"),name:g.Z_().required("error-name-required"),code:g.Z_().required("error-code-required")});function N(e){var r=e.onSubmit,t=e.loading,a=(0,o.$)("common").t,l=(0,c.SO)().closeModal;return(0,n.jsx)("div",{className:"p-5 space-y-5 border border-gray-200 rounded",children:(0,n.jsx)(v.l,{onSubmit:r,validationSchema:O,children:function(e){var r,o,i=e.register,s=e.control,c=e.formState.errors;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x.Z,j({label:a("text-email")},i("email"),{type:"email",variant:"outline",className:"mb-5",error:a(null===(r=c.email)||void 0===r?void 0:r.message)})),(0,n.jsx)(x.Z,j({label:a("text-name")},i("name"),{variant:"outline",className:"mb-5",error:a(null===(o=c.name)||void 0===o?void 0:o.message)})),(0,n.jsxs)("div",{className:"mb-5",children:[(0,n.jsx)(h.Z,{children:a("text-otp-code")}),(0,n.jsx)(p.Qr,{control:s,render:function(e){var r=e.field,t=r.onChange,o=(r.onBlur,r.value);return(0,n.jsx)(f.Z,{value:o,onChange:t,numInputs:6,separator:(0,n.jsx)("span",{className:"hidden sm:inline-block",children:"-"}),containerStyle:"flex items-center justify-between -mx-2",inputStyle:"flex items-center justify-center !w-full mx-2 sm:!w-9 !px-0 appearance-none transition duration-300 ease-in-out text-heading text-sm focus:outline-none focus:ring-0 border border-border-base rounded focus:border-accent h-12",disabledStyle:"!bg-gray-100"})},name:"code",defaultValue:""})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-5",children:[(0,n.jsx)(b.Z,{variant:"outline",className:"hover:border-red-500 hover:bg-red-500",onClick:l,children:a("text-cancel")}),(0,n.jsx)(b.Z,{loading:t,disabled:t,children:a("text-verify-code")})]})]})}})})}function S(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function w(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Z(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],l=!0,i=!1;try{for(t=t.call(e);!(l=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);l=!0);}catch(s){i=!0,o=s}finally{try{l||null==t.return||t.return()}finally{if(i)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return S(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return S(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(){var e=function(e){v(function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){w(e,r,t[r])}))}return e}({},e))},r=(0,o.$)("common").t,t=Z((0,l.KO)(s.R),1)[0],c=(0,i.Tk)(),u=c.mutate,f=c.isLoading,b=c.serverError,x=c.setServerError,h=(0,i.hv)(),v=h.mutate,p=h.isLoading;h.serverError;return(0,n.jsxs)("div",{className:"mt-4",children:["PhoneNumber"===t.step&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.Z,{variant:"error",message:b&&r(b),className:"mb-4",closeable:!0,onClose:function(){return x(null)}}),(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)(m.Z,{onSubmit:function(e){var r=e.phone_number;u({phone_number:"+".concat(r)})},isLoading:f,view:"login"})})]}),"OtpForm"===t.step&&(0,n.jsx)(d.Z,{isLoading:p,onSubmit:e}),"RegisterForm"===t.step&&(0,n.jsx)(N,{loading:p,onSubmit:e})]})}function _(){var e=(0,o.$)("common").t,r=(0,c.SO)().openModal;return(0,n.jsxs)("div",{className:"flex flex-col justify-center w-screen h-screen px-5 py-6 bg-light sm:p-8 md:h-auto md:max-w-md md:rounded-xl",children:[(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(u.Z,{})}),(0,n.jsx)("p",{className:"mt-4 text-sm leading-relaxed text-center mb-7 text-body sm:mt-5 sm:mb-10 md:text-base",children:e("otp-login-helper")}),(0,n.jsx)(k,{}),(0,n.jsxs)("div",{className:"relative flex flex-col items-center justify-center text-sm mt-9 mb-7 text-heading sm:mt-11 sm:mb-8",children:[(0,n.jsx)("hr",{className:"w-full"}),(0,n.jsx)("span",{className:"absolute -top-2.5 bg-light px-2 ltr:left-2/4 ltr:-ml-4 rtl:right-2/4 rtl:-mr-4",children:e("text-or")})]}),(0,n.jsxs)("div",{className:"text-sm text-center text-body sm:text-base",children:[e("text-back-to")," ",(0,n.jsx)("button",{onClick:function(){return r("LOGIN_VIEW")},className:"font-semibold underline transition-colors duration-200 text-accent hover:text-accent-hover hover:no-underline focus:text-accent-hover focus:no-underline focus:outline-none ltr:ml-1 rtl:mr-1",children:e("text-login")})]})]})}}}]);